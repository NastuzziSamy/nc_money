<div class="transaction-list-item-split" ng-form name="ctrl.splitForm">
  <div class="split-list-item-empty-cell"></div>
  <div class="split-list-item-cell transaction-list-item-description" ng-class="{}">
    <input type="text" ng-model="ctrl.split.description" ng-model-options="{debounce: 500}" placeholder="Comment" />
  </div>
  <div class="split-list-item-cell transaction-list-item-destination-account">
    <ui-select ng-model="ctrl.split.destAccountId" theme="select2">
      <ui-select-match placeholder="Select account...">{{$select.selected.name}}</ui-select-match>
      <ui-select-choices repeat="account.id as account in ctrl.availableAccounts | filter: $select.search">
        <span ng-bind-html="account.name | highlight: $select.search"></span>
        <small ng-bind-html="account.description | highlight: $select.search"></small>
      </ui-select-choices>
    </ui-select>
  </div>
  <div class="split-list-item-cell transaction-list-item-value-single" ng-class="{'zero-value': ctrl.split.shownValue === 0.0}">
    <input currency-input type="text" ng-model="ctrl.split.shownValue" ng-model-options="{debounce: 500}" />
  </div>
  <div class="split-list-item-cell transaction-list-item-value" ng-class="{'zero-value': ctrl.split.inValue === 0.0}">
    <input currency-input type="text" ng-model="ctrl.split.inValue" ng-model-options="{debounce: 500}" />
  </div>
  <div class="split-list-item-cell transaction-list-item-value" ng-class="{'zero-value': ctrl.split.outValue === 0.0}">
    <input currency-input type="text" ng-model="ctrl.split.outValue" ng-model-options="{debounce: 500}" />
  </div>
  <div class="split-list-item-cell transaction-list-item-info">
    <button class="icon-info foreign-split-info" ng-if="ctrl.split.foreignCurrency" uib-popover="= {{ctrl.split.value}} {{ctrl.split.currency}} * {{ctrl.split.convertRate/ctrl.transaction.convertRate}}">
      <!-- TEST <span>=&nbsp;{{ctrl.split.value}}&nbsp;{{ctrl.split.currency}}&nbsp;*&nbsp;{{ctrl.split.convertRate/ctrl.transaction.convertRate}}</span> -->
    </button>
  </div>
  <div class="split-list-item-cell transaction-list-item-actions">
    <div ng-class="{'icon-loading-small': ctrl.splitItemLoading}"></div>
    <button ng-click="ctrl.deleteSplit()" class="icon-delete" title="{{ctrl.t.delete}}" ng-if="!ctrl.splitForm.$dirty && !ctrl.splitItemLoading"></button>
    <button ng-click="ctrl.updateSplit()" class="icon-checkmark" title="{{ctrl.t.update}}" ng-if="ctrl.splitForm.$dirty && !ctrl.splitItemLoading"></button>
  </div>
</div>
